package net.minecraft.world.effect;

import net.minecraft.nbt.NBTTagCompound;

import com.bergerkiller.generated.net.minecraft.world.effect.MobEffectHandle;
import com.bergerkiller.generated.net.minecraft.world.effect.MobEffectListHandle;
import com.bergerkiller.bukkit.common.nbt.CommonTagCompound;

class MobEffect {
#if version >= 1.17
    private final (MobEffectListHandle) MobEffectList effectList:effect;
#elseif version >= 1.9
    private final (MobEffectListHandle) MobEffectList effectList:b;
#else
    private (MobEffectListHandle) int effectList:effectId;
#endif

#if version >= 1.17
    private int duration;
    private int amplifier;
    private boolean ambient;
    private boolean noCounter;
#else
    private int duration;
    private int amplifier:amplification;
    private boolean ambient:splash;
    private boolean noCounter:ambient;
#endif

#if version >= 1.17
    private boolean particles:visible;
#elseif version >= 1.15.2
    private boolean particles:showParticles;
#elseif version >= 1.9
    private boolean particles:h;
#else
    private boolean particles:particles;
#endif

    //TODO: showIcon?
    //TODO: hiddenEffect?

#if version >= 1.18
    public static (MobEffectHandle) MobEffect fromNBT:load((CommonTagCompound) NBTTagCompound compound);
#else
    public static (MobEffectHandle) MobEffect fromNBT:b((CommonTagCompound) NBTTagCompound compound);
#endif
}

class MobEffectList {
    public static int getId((MobEffectListHandle) MobEffectList mobeffectlist);

#if exists net.minecraft.world.effect.MobEffectList public static MobEffectList byId(int id);
    // Purpur 1.17.1+
    public static (MobEffectListHandle) MobEffectList fromId:byId(int id);
#elseif version >= 1.18
    public static (MobEffectListHandle) MobEffectList fromId:byId(int id);
#else
    public static (MobEffectListHandle) MobEffectList fromId(int id);
#endif
}
